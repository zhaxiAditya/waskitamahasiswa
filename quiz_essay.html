<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Essay Page</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<style>
      /* Global CSS*/
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap');
  * {
    margin: 0;
    font-family: "Poppins", sans-serif;
  }

  body {
    background-color: #D9D9D9;
  }

  img {
    width: 40px;
    height: 40px;
  }

  span {
    display: flex;
    align-items: center;
    gap: 5px;
    position: relative;
  }

  /*CSS Navbar*/
  nav {
    background-color: #4A1B9D;
    box-sizing: border-box;
    display: flex;
    padding: 10px 5%;
    justify-content: space-between;
    align-items: center;
    height: 50px;
    color: #DADADA;
  }

  .notif::after {
    content: "1";
    position: absolute;
    z-index: 97;
    transform: translateX(-20px);
    background-color: #FF9919;
    width: 14px;
    height: 14px;
    font-size: 10px;
    text-align: center;
    border-radius: 7px;
    color: white;
  }

  .notif {
    height: 40px;
  }

  .alert {
    width: 300px;
    height: 100vh;
    background-color: #DADADA;
    position: fixed;
    z-index: 99;
    right: 0px;
    transform: translateX(100%);
    transition: ease-in 200ms;
  }

  .alert.active {
    transform: translateX(0px);
  }

  .focus {
    display: none;
    content: '';
    width: 100%;
    height: 100vh;
    position: absolute;
    background-color: #515151cc;
    z-index: 98;
  }

  /*CSS Header Kelas*/
  .header-kelas {
    margin-top: 2%;
    background-color: #00809D;
    position: relative;
    padding: 10px 10%;
  }

  .text {
    margin-top: 5%;
    z-index: 2;
    position: relative;
    margin-left: -3.5%;
  }

  .text p {
    font-size: 20px;
    color: #000000;
  }

  /*Footer*/
  footer {
    background-color: #752A89;
    width: 100%;
    height: 20px;
    position: fixed;
    bottom: 0px;
    z-index: 99;
    font-size: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #FAFAFA;
  }

  /*CSS QUIZ*/
  .container-box {
    background-color: white;
    margin: 1.5% 5%;
    padding: 1.5%;
    box-sizing: border-box;
    font-size: 12px;
  }

  .container-button {
    margin: 1.5% 5%;
    box-sizing: border-box;
    text-align: right;
  }

  .container-button button:hover {
    background-color: #2e9023;
    transform: translateY(-2px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
  }

  .info-quiz div {
    display: flex;
  }

  .label {
    width: 120px;
    display: inline-block;
  }

  .judul-quiz {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .judul-quiz h1 {
    font-size: 16px;
  }

  .judul-quiz img {
    width: 25px;
    height: 25px;
  }

  .cancel-button {
    width: 28px;
    height: 28px;
    cursor: pointer;
  }

  .essay-textarea {
    width: 100%;
    min-height: 120px;
    border-radius: 6px;
    padding: 12px;
    border: 1px solid #ccc;
    font-size: 12px;
    resize: vertical;
    box-sizing: border-box;
  }

  .button-batal {
    background-color: #FF0000;
    border-radius: 6px;
    padding: 8px 24px;
    border: none;
    color: white;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
  }

  .button-submit {
    background-color: #03AB6E;
    border-radius: 6px;
    padding: 8px 24px;
    border: none;
    color: white;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
  }

    /*CSS Alert*/
  .overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 1000;
  }

  .submit-alert {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    width: 400px;
    background: white;
    border-radius: 6px;
    transform: translate(-50%, -50%);
    z-index: 1001;
    box-shadow: 0 8px 16px rgba(0,0,0,0.2);
    overflow: hidden;
    font-family: sans-serif;
  }

  .submit-alert-header {
    height: 5px;
    background: #00DA12; 
  }

  .submit-alert-body {
    display: flex;
    align-items: center;
    padding: 20px;
  }

  .submit-alert-body img.submit-alert-icon {
    width: 40px;
    height: 40px;
    margin-right: 15px;
  }

  .submit-alert-body p {
    margin: 0;
    font-size: 16px;
    color: #333;
  }

  .submit-alert-buttons {
    display: flex;
    justify-content: flex-end;
    padding: 15px 20px;
    gap: 10px;
  }

  .cancel-button, .confirm-button {
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
  }

  .cancel-button {
    background: white;
    border: 2px solid #00DA12;
    color: #00DA12;
  }

  .confirm-button {
    background: #00DA12;
    color: white;
    border: none;
  }

</style>
<body>
    <!-- Notifikasi -->
    <div class="alert" id="alert">
        <nav>
        <i class="fa-solid fa-xmark" id="tutup"></i>
        <h3 style="width: 200px;">Notifikasi</h3>
        </nav>
    </div>
    <div class="focus" id="backgroundGelap"></div>
    <nav>
        <span>
        <img src="assets/Logo Gram.png" alt="">
        <h3>WASKITA</h3>
        </span>
        <span>
        <div class="notif">
            <img src="assets/notification.png" alt="" id="buka">
        </div>
        <img src="assets/photo.jpg" style="border-radius: 25px; border: 2px solid #FAFAFA; margin-left: 20px;" alt="">
        </span>
    </nav>

    <!-- Header Kelas -->
    <div class="header-kelas">
        <div class="text">
        <p>2025 - Ganjil</p>
        <p>SI170 - TUGAS PROYEK UI/UX - [ 22S1SI06-TugasPr(SI170)-20242 ]</p>
        </div>
    </div>

    <!-- Informasi Quiz -->
    <section class="section-quiz">
      <div class="container-box">
        <div class="judul-quiz">
            <p>Tes Pemahaman UI/UX</p>
            <img src="assets/cancel-button.png" id="cancel-quiz-btn" style="cursor: pointer;" draggable="false">
        </div>
        <div class="info-quiz">
            <div><span class="label" style="font-size: 12px;">Batas Akhir</span><span style="font-size: 12px;">: 23:59, 31 Agustus 2025</span></div>
            <div><span class="label" style="font-size: 12px;">Status</span><span style="color: #59D3FF; font-size: 12px;"><b>: Sedang Dikerjakan</b></span></div>
            <div><span class="label" style="font-size: 12px;">Nilai</span><span style="font-size: 12px;">: --</span></div>
        </div>
      </div>
    </section>

    <section class="section-quiz">
      <div class="container-box">
        <p>Kerjakan Esai berikut ini, untuk melihat tingkat pemahaman anda pada materi yang pertama ini<br>
        Selamat Mengerjakan...!!!</p><br>
        <p>1. Buat Ringkasan Latar Belakang</p>
        <textarea class="essay-textarea" placeholder="Tulis jawaban anda disini"></textarea>
      </div>
    </section>
    
    <div class="container-button">
      <button class="button-submit" style="cursor: pointer;">
        SUBMIT
      </button>
    </div>

</body>

<script>
    // Fitur Sidebar Notif
    const alert = document.getElementById("alert");
    const focus = document.getElementById('backgroundGelap')
    const tombolbuka = document.getElementById("buka");
    const tomboltutup = document.getElementById('tutup');

    tombolbuka.addEventListener("click", function(){
      alert.classList.add("active")
      focus.style.display = "block"
    });

    tomboltutup.addEventListener("click", function(){
      alert.classList.remove("active")
      focus.style.display = "none"
    });

    // Overlay untuk Cancel Alert
    const overlayCancel = document.createElement("div");
    overlayCancel.id = "overlay-cancel";
    overlayCancel.style.cssText = `
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.6); display: none; z-index: 99;
    `;
    document.body.appendChild(overlayCancel);

    // Modal Alert Cancel
    const cancelAlert = document.createElement("div");
    cancelAlert.id = "cancel-alert";
    cancelAlert.style.cssText = `
    background: white; width: 400px;
    padding: 20px;
    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    display: none; z-index: 100; box-shadow: 0 0 10px rgba(0,0,0,0.25);
    border-top: 6px solid #FF3F26;
    text-align: left;
    font-family: sans-serif;
    `;

    cancelAlert.innerHTML = `
    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15%">
        <img src="assets/alert-icon.png" style="width: 100px; height: auto;" draggable="false">
        <p style="margin: 0; font-size: 20px;">Apakah anda yakin membatalkan kuis saat ini?</p>
    </div>
    <div style="margin-top: 20px; text-align: right;">
        <button id="cancel-exit" style="padding: 6px 16px; border: 2px solid #FF3F26; background: white; color: #FF3F26; border-radius: 6px; margin-right: 10px; cursor: pointer;">Tidak</button>
        <button id="confirm-exit" style="padding: 6px 16px; background: #FF3F26; color: white; border: none; border-radius: 6px; cursor: pointer;">Ya</button>
    </div>
    `;
    document.body.appendChild(cancelAlert);

    document.getElementById("cancel-quiz-btn").addEventListener("click", () => {
    overlayCancel.style.display = "block";
    cancelAlert.style.display = "block";
    });

    document.getElementById("cancel-exit").addEventListener("click", () => {
    overlayCancel.style.display = "none";
    cancelAlert.style.display = "none";
    });

    document.getElementById("confirm-exit").addEventListener("click", () => {
    window.location.href = "kelas.html";
    });

    /*Alert Berhasil*/
    const overlaySubmit = document.createElement("div");
    overlaySubmit.id = "overlay-submit";
    overlaySubmit.style.cssText = `
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6); display: none; z-index: 99;
    `;
    document.body.appendChild(overlaySubmit);

    const submitAlert = document.createElement("div");
    submitAlert.id = "submit-alert";
    submitAlert.style.cssText = `
      background: white; width: 400px;
      padding: 20px;
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      display: none; z-index: 100; box-shadow: 0 0 10px rgba(0,0,0,0.25);
      border-top: 6px solid #00DA12;
      text-align: left;
      font-family: sans-serif;
    `;

    submitAlert.innerHTML = `
      <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15%">
          <img src="assets/alert-icon.png" style="width: 100px; height: auto;" draggable="false">
          <p style="margin: 0; font-size: 20px;">Apakah anda yakin ingin mengumpulkan kuis sekarang?</p>
      </div>
      <div style="margin-top: 20px; text-align: right;">
          <button id="submit-cancel" style="padding: 6px 16px; border: 2px solid #00DA12; background: white; color: #00DA12; border-radius: 6px; margin-right: 10px; cursor: pointer;">Tidak</button>
          <button id="submit-confirm" style="padding: 6px 16px; background: #00DA12; color: white; border: none; border-radius: 6px; cursor: pointer;">Setuju</button>
      </div>
    `;
    document.body.appendChild(submitAlert);

    // Event Button Submit
    document.querySelector(".button-submit").addEventListener("click", () => {
      overlaySubmit.style.display = "block";
      submitAlert.style.display = "block";
    });

    // Tombol Tidak
    document.getElementById("submit-cancel").addEventListener("click", () => {
      overlaySubmit.style.display = "none";
      submitAlert.style.display = "none";
    });

    // Tombol Setuju
    document.getElementById("submit-confirm").addEventListener("click", () => {
      alert("Kuis berhasil disubmit!");
      overlaySubmit.style.display = "none";
      submitAlert.style.display = "none";
    }); 

  document.getElementById("submit-confirm").addEventListener("click", () => {
    // 1. Ubah status ke "Sudah Selesai"
    const statusSpan = document.querySelector('.info-quiz div:nth-child(2) span:nth-child(2)');
    statusSpan.innerHTML = '<b>: Sudah Selesai</b>';
    statusSpan.style.color = '#00DA12';

    // 2. Ubah nilai ke "Belum dinilai"
    const nilaiSpan = document.querySelector('.info-quiz div:nth-child(3) span:nth-child(2)');
    nilaiSpan.textContent = ': Belum dinilai';

    // 3. Nonaktifkan textarea
    document.querySelector('.essay-textarea').setAttribute('disabled', 'true');

    // 4. Hilangkan tombol submit
    document.querySelector('.container-button').style.display = 'none';

    // 5. Nonaktifkan fungsi JS alert pada tombol cancel, tapi tetap arahkan ke kelas.html
    const cancelBtn = document.getElementById("cancel-quiz-btn");
    const newCancelBtn = cancelBtn.cloneNode(true);
    newCancelBtn.addEventListener("click", () => {
      window.location.href = "kelas.html"; // langsung redirect tanpa alert
    });
    cancelBtn.parentNode.replaceChild(newCancelBtn, cancelBtn);

      // Tutup overlay dan modal
      overlaySubmit.style.display = "none";
      submitAlert.style.display = "none";
    });

</script>

</html>